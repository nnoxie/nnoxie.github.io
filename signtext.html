<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Text Generator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        @font-face {
    font-family: Minecraft Seven v2;
    src: url("/Minecraft-Seven_v2.otf") format("opentype");
}

:root {
    font-family: Inter, sans-serif;
    font-feature-settings: 'liga' 1, 'calt' 1, 'dlig' 1, 'ss02' 1;
}

@supports (font-variation-settings: normal) {
    :root { font-family: InterVariable, sans-serif; }
}

body {
    font-family: 'Inter', sans-serif;
    padding: 36px 0;
    max-width: 60vh;
    margin: 0 auto;
}

.sign {
    font-family: 'Minecraft Seven v2';
    font-size: 36px;
    background-color: #000000;
    border-radius: 0.3em;
    margin: 1em auto;
    padding: 0.3em;
    width: 8.9em;
    height: 5.4em;

    p {
        color: #55FF55;
        text-shadow:
            .1em .1em #278828,
            .1em 0em #278828,
            .1em -.1em #278828,
            0em -.1em #278828,
            -.1em -.1em #278828,
            -.1em 0em #278828,
            -.1em .1em #278828,
            0em .1em #278828;
        display: block;
        text-align: center;
        word-spacing: 0.1em;
        font-size: 36px;
        margin: 0.3em 0;
        white-space: pre;
    } 
}

.compromise p {
    color: #FFFF55;
    text-shadow:
        .1em .1em #888828,
        .1em 0em #888828,
        .1em -.1em #888828,
        0em -.1em #888828,
        -.1em -.1em #888828,
        -.1em 0em #888828,
        -.1em .1em #888828,
        0em .1em #888828;
}

.too-long p {
    color: #FF5555;
    text-shadow:
        .1em .1em #882728,
        .1em 0em #882728,
        .1em -.1em #882728,
        0em -.1em #882728,
        -.1em -.1em #882728,
        -.1em 0em #882728,
        -.1em .1em #882728,
        0em .1em #882728;
}

input, select {
    background-color: #eeeeee;
    border: none;
    padding: 1em;
    border-radius: 100vh;
}
    </style>
</head>
<body>
    <h1>Minecraft Big Sign Text Generator</h1>
    <input type="text" id="input">
    <select name="font" id="font">
        <option value="big">Big</option>
        <option value="small">Small</option>
    </select>
    <div class="sign">
        <p id="line1"> </p>
        <p id="line2"> </p>
        <p id="line3"> </p>
        <p id="line4"> </p>
    </div>
</body>
<script>
    const bigCharacters = [
    "ıı''ıı",
    "||''||",
    "|| ||",
    "   ",
    "||''ıı",
    "||''ıı",
    "||,,!!",
    "   ",
    "ıı''||",
    "||  ",
    "!!,,!!",
    "   ",
    "||''ıı",
    "|| ||",
    "||,,!!",
    "   ",
    "||''''",
    "||'' ",
    "||,,,,",
    "   ",
    "||''''",
    "||'' ",
    "||  ",
    "   ",
    "ıı''''",
    "|| ıı",
    "!!,,||",
    "   ",
    "|| ||",
    "||''||",
    "|| ||",
    "   ",
    "''||''",
    " || ",
    ",,||,,",
    "   ",
    "''''||",
    "  ||",
    "ıı,,||",
    "   ",
    "|| ||",
    "||''ıı",
    "|| ||",
    "   ",
    "||  ",
    "||  ",
    "||,,,,",
    "   ",
    "||ıı||",
    "|| ||",
    "|| ||",
    "   ",
    "||''ıı",
    "|| ||",
    "|| ||",
    "   ",
    "ıı''ıı",
    "|| ||",
    "!!,,!!",
    "   ",
    "||''ıı",
    "||'' ",
    "||  ",
    "   ",
    "ıı''ıı",
    "||,,||",
    "  ||",
    "   ",
    "||''ıı",
    "||''ıı",
    "|| ||",
    "   ",
    "ıı''!!",
    "''''ıı",
    "ıı,,||",
    "   ",
    "''||''",
    " || ",
    " || ",
    "   ",
    "|| ||",
    "|| ||",
    "!!,,!!",
    "   ",
    "|| ||",
    "|| ||",
    "||ıı''",
    "   ",
    "|| ||",
    "||,,||",
    "||''||",
    "   ",
    "|| ||",
    " || ",
    "|| ||",
    "   ",
    "|| ||",
    "!!,,||",
    "ıı,,||",
    "   ",
    "''''||",
    " || ",
    "||,,,,",
    "   ",
    "   ",
    "'';;ıı",
    "||,,||",
    "   ",
    "||  ",
    "||''ıı",
    "||,,||",
    "   ",
    "   ",
    "ıı''!!",
    "||,,ıı",
    "   ",
    "  ||",
    "ıı''||",
    "||,,||",
    "   ",
    "   ",
    "ıı''||",
    "!!;;,,",
    "   ",
    " ıı''",
    "''||''",
    " || ",
    "   ",
    "   ",
    "ıı''||",
    "||,,||",
    "ıı,,||",
    "||  ",
    "||''ıı",
    "|| ||",
    "   ",
    " '' ",
    "''|| ",
    " ||,,",
    "   ",
    "  ''",
    "''''||",
    "  ||",
    "ıı,,||",
    "||  ",
    "||,,!!",
    "|| ıı",
    "   ",
    "''|| ",
    " || ",
    " ||,,",
    "   ",
    "   ",
    "||ıı||",
    "|| ||",
    "   ",
    "   ",
    "||''ıı",
    "|| ||",
    "   ",
    "   ",
    "ıı''ıı",
    "!!,,!!",
    "   ",
    "   ",
    "||''ıı",
    "||,,||",
    "||  ",
    "   ",
    "ıı''||",
    "!!,,||",
    "  ||",
    "   ",
    "||''!!",
    "||  ",
    "   ",
    "   ",
    "ıı;;''",
    "ıı,,||",
    "   ",
    " ıı ",
    "''||''",
    " ||,,",
    "   ",
    "   ",
    "|| ||",
    "!!,,||",
    "   ",
    "   ",
    "|| ||",
    "''ıı''",
    "   ",
    "   ",
    "|| ||",
    "''||||",
    "   ",
    "   ",
    "!!,,!!",
    "ıı''ıı",
    "   ",
    "   ",
    "|| ||",
    "!!,,||",
    "ıı,,||",
    "   ",
    "'';;ıı",
    "||,,,,",
    "   ",
    "ıı''ıı",
    "||,'||",
    "!!,,!!",
    "   ",
    ",,|| ",
    " || ",
    ",,||,,",
    "   ",
    "!!''ıı",
    " ,,!!",
    "||,,,,",
    "   ",
    "!!''ıı",
    " ''ıı",
    "||,,!!",
    "   ",
    "ıı ||",
    "||,,||",
    "  ||",
    "   ",
    "||''''",
    "''''ıı",
    "||,,!!",
    "   ",
    "ıı'' ",
    "||''ıı",
    "!!,,!!",
    "   ",
    "''''||",
    " || ",
    "||  ",
    "   ",
    "ıı''ıı",
    "ıı''ıı",
    "!!,,!!",
    "   ",
    "ıı''ıı",
    "!!,,||",
    " ,,!!",
    "   ",
    " || ",
    "   ",
    "   ",
    "   ",
    "   ",
    "   ",
    " ıı ",
    "   ",
    "   ",
    "   ",
    " ıı ",
    "''  ",
    ",,||,,",
    "''··,,",
    "''||''",
    "   ",
    "   ",
    ",,,,,,",
    "   ",
    "   ",
    "ıı'' ",
    "ıı'' ",
    "||,,||",
    "   ",
    "   ",
    "   ",
    "   ",
    "   "
];

const smallCharacters = [
    ",,,,,",
    "||··|",
    ",,,,,",
    "||;;i",
    ",,,,,",
    "||,,,",
    " ,,,",
    "ı;;||",
    ",,,,,",
    "||;;,",
    ",,,,,",
    "||· ",
    ",,,,,",
    "||,;ı",
    ",, ,",
    "||··|",
    ",,,,,",
    ",,||,",
    ",,,,,",
    "ı,,||",
    ",, ,",
    "||·;,",
    ",,, ",
    "||,,,",
    ",, ,",
    "||''|",
    ",, ,",
    "||'·|",
    ",,,,,",
    "||,,|",
    ",,,,,",
    "||··'",
    ",,,,,",
    "'··||",
    ", ,,",
    "||' ",
    " ,,,",
    ";';ıı",
    ",,, ",
    "'||''",
    ",, ,",
    "||,,|",
    ",, ,",
    "||,·'",
    ",, ,",
    "|ı··|",
    ",, ,",
    "ıı''ı",
    ",, ,",
    "'';;|",
    ",,,,,",
    ",ı,',",
    ",,,,,",
    "||··|",
    ",,,,,",
    "||;;i",
    ",,,,,",
    "||,,,",
    "  ,",
    "ıı;;|",
    ",,,,,",
    "||;;,",
    ",,,,,",
    "||· ",
    ",,,,,",
    "||,;ı",
    ",, ,",
    "||··|",
    ",,,,,",
    ",,||,",
    ",,,,,",
    "ı,,||",
    ",, ,",
    "||·;,",
    ",,, ",
    "||,,,",
    ",, ,",
    "||''|",
    ",, ,",
    "||'·|",
    ",,,,,",
    "||,,|",
    ",,,,,",
    "||··'",
    ",,,,,",
    "'··||",
    ", ,,",
    "||' ",
    " ,,,",
    ";';ıı",
    ",,, ",
    "'||''",
    ",, ,",
    "||,,|",
    ",, ,",
    "||,·'",
    ",, ,",
    "||ı·|",
    ",, ,",
    "ıı''ı",
    ",, ,",
    "'';;|",
    ",,,,,",
    ",ı,',",
    ",,,,,",
    "|,;,|",
    ",,, ",
    ",||,,",
    ",,,,,",
    "ı;;;'",
    ",,,,,",
    ";;;;¦",
    ",, ,",
    "''''|",
    ",,,,,",
    "'';;ı",
    " ,,,",
    "||;;ı",
    ",,,,,",
    " ı|'",
    ",,,,,",
    "¦|;;¦",
    ",,,,,",
    "';;||",
    ",,, ",
    " ' ",
    " · ",
    "ııı ",
    " · ",
    ",;ı ",
    ",,ı,,",
    "';|;ı",
    " · ",
    "'''''",
    ",,, ",
    "¦;¦;,",
    " · ",
    " · ",
];

const allCharactersString = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'.,$-& ";

const allCharacters = allCharactersString.split("");

function bigCharacterLine(n, character) {
    let characterIndex = allCharactersString.indexOf(character);
    let line = bigCharacters[4 * characterIndex + n - 1];
    return line;
}

function bigLine(n, input) {
    let textArray = input.split("");
    let line = textArray.map(element => bigCharacterLine(n, element));
    return line;
}

function bigOutput(input) {
    let lines = [1, 2, 3, 4];
    return lines.map(element => bigLine(element, input));
}

function findBigJoiner(input) {
    console.log(input.length);
    if (input.length === 6) {
        $(".sign").addClass("compromise");
        return ".";
    } else {
        $(".sign").removeClass("compromise");
        return " ";
    }
}

function bigText(input) {
    let outputMatrix = bigOutput(input);
    let outputArray = outputMatrix.map(element => element.join(findBigJoiner(input)));
    $("#line1").text(outputArray[0]);
    $("#line2").text(outputArray[1]);
    $("#line3").text(outputArray[2]);
    $("#line4").text(outputArray[3]);
    if (input.length > 6) {
        $(".sign").addClass("too-long");
    } else {
        $(".sign").removeClass("too-long");
    }
}

function smallCharacterLine(n, character) {
    let characterIndex = allCharactersString.indexOf(character);
    let line = smallCharacters[2 * characterIndex + n - 1];
    return line;
}

function smallLine(n, input) {
    let textArray = input.split("");
    let line = textArray.map(element => smallCharacterLine(n, element));
    return line;
}

function smallOutput(input) {
    let lines = [1, 2];
    return lines.map(element => smallLine(element, input));
}

function defaultMultiRow(outputMatrix, input) {
    let division = Math.ceil(input.length / 2);
    if (input.split("")[division] === " ") {
        let firstRow = outputMatrix[0].slice(0, division).join(" ");
        let secondRow = outputMatrix[1].slice(0, division).join(" ");
        let thirdRow = outputMatrix[0].slice(division + 1).join(" ");
        let fourthRow = outputMatrix[1].slice(division + 1).join(" ");
        $("#line1").text(firstRow);
        $("#line2").text(secondRow);
        $("#line3").text(thirdRow);
        $("#line4").text(fourthRow);
    } else if (input.split("")[division - 1] === " ") {
        let firstRow = outputMatrix[0].slice(0, division - 1).join(" ");
        let secondRow = outputMatrix[1].slice(0, division - 1).join(" ");
        let thirdRow = outputMatrix[0].slice(division).join(" ");
        let fourthRow = outputMatrix[1].slice(division).join(" ");
        $("#line1").text(firstRow);
        $("#line2").text(secondRow);
        $("#line3").text(thirdRow);
        $("#line4").text(fourthRow);
    } else {
        let firstRow = outputMatrix[0].slice(0, division).join(" ");
        let secondRow = outputMatrix[1].slice(0, division).join(" ");
        let thirdRow = outputMatrix[0].slice(division).join(" ");
        let fourthRow = outputMatrix[1].slice(division).join(" ");
        $("#line1").text(firstRow);
        $("#line2").text(secondRow);
        $("#line3").text(thirdRow);
        $("#line4").text(fourthRow);
    }
}

function smallText(input) {
    let outputMatrix = smallOutput(input);
    let outputArray = outputMatrix.map(element => element.join(" "));
    if (input.length > 12) {
        $(".sign").addClass("too-long");
        $("#line1").text(" ");
        $("#line2").text(outputArray[0]);
        $("#line3").text(outputArray[1]);
        $("#line4").text(" ");
    } else {
        $(".sign").removeClass("too-long");
        if (input.length > 6) {
            $(".sign").addClass("compromise");
            if (input.includes(" ")) {
                if (input.replace(/[^\s]/g, "").length === 1) {
                    if (input.split("").indexOf(" ") <= 6 && input.length - input.split("").indexOf(" ") <= 6) {
                        let division = input.split("").indexOf(" ");
                        let spacelessInput = input.replace(/[\s]/g, "");
                        let spacelessOutputMatrix = smallOutput(spacelessInput);
                        let firstRow = spacelessOutputMatrix[0].slice(0, division).join(" ");
                        let secondRow = spacelessOutputMatrix[1].slice(0, division).join(" ");
                        let thirdRow = spacelessOutputMatrix[0].slice(division).join(" ");
                        let fourthRow = spacelessOutputMatrix[1].slice(division).join(" ");
                        $("#line1").text(firstRow);
                        $("#line2").text(secondRow);
                        $("#line3").text(thirdRow);
                        $("#line4").text(fourthRow);
                    } else {
                        defaultMultiRow(outputMatrix, input);
                    }
                } else {
                    defaultMultiRow(outputMatrix, input);
                }
            } else {
                defaultMultiRow(outputMatrix, input);
            }
        } else {
            $(".sign").removeClass("compromise");
            $("#line1").text(" ");
            $("#line2").text(outputArray[0]);
            $("#line3").text(outputArray[1]);
            $("#line4").text(" ");
        }
    }
}

setInterval(function() {
    if ($("#font").val() === "big") {
        bigText($("#input").val());
    } else {
        smallText($("#input").val());
    }
}, 100);
</script>
</html>
